/* ========== 1) Variables & Base ========== */
:root {
  /* colors */
  --bg:#1a131300; --text:#111; --muted:#666;
  --brand:#a53030; --brand-600:#571818; --line:#eaeaea;
  --card-bg:#ffffff57; --card-shadow:0 2px 8px rgba(0,0,0,.08);
  --link:#000000; --link-hover:#1c6d70;

  /* sidebar */
  --side-bg:#f3f3f3;

  /* nav */
  --nav-text:#1111117e; --nav-active:#080808; --nav-underline:#080808af;

  /* music */
  --music-bar:teal; --music-link:darkslateblue; --music-hover:#3b1009;

  /* table */
  --table-bg:#fdfdf1; --table-border:#555; --table-th:#93a3a3;

  /* buttons */
  --btn-bg:#f0f0ee; --btn-text:#0f0e0e; --btn-border:#00000038;
  --btn-bg-hover:#e6e6e4; --btn-press-top:#a7a7a7; --btn-press-bot:#7c7c7c;

  /* radius & spacing */
  --r-lg:20px;
}

/* Base / Reset */
* { box-sizing:border-box; }
html, body { margin:0; padding:0; }
body {
  font-family:"Inter","Noto Sans TC","PingFang TC","Helvetica Neue","Segoe UI",sans-serif;
  font-size:16px; line-height:1.75; color:#222; background:var(--bg);
}
a { color:var(--link); text-decoration:none; }
a:hover { color:var(--link-hover); }
strong { color:#fff; background:darkred; padding:0 .25em; border-radius:3px; }
mark { color:#000; background:rgba(126,126,126,.589); }
hr { border:none; border-top:1px solid #e5e5e5b0; margin:18px 0; }

/* ========== 2) Layout ========== */
header {
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:center;
  padding:5px 0; width:fit-content; margin:0 auto; border-radius:15px;
  background:rgba(255,255,255,.123); backdrop-filter:blur(4px);
}

/* Navbar */
.theme {
  list-style:none; margin:0; padding:0 15px;
  display:flex; gap:28px; align-items:center; background:transparent;
}
.theme li { position:relative; }
.theme a {
  display:block; padding:14px 4px; font-size:16px; font-weight:600; color:var(--nav-text);
  transition:color .2s ease;
}
.theme a::after {
  content:""; position:absolute; left:0; right:0; bottom:-1px; height:2px;
  background:#111; transform:scaleX(0); transform-origin:left; transition:transform .25s ease;
}
.theme a:hover::after { transform:scaleX(1); }
.theme a.active,
.theme a[aria-current="page"] { color:var(--nav-active); }
.theme a.active::after,
.theme a[aria-current="page"]::after { transform:scaleX(1); background:var(--nav-underline); }
.theme a:focus-visible { outline:2px solid #111; outline-offset:3px; }
.theme a.logo { font-weight:800; }
.theme a.logo:hover { color:#111; }
.theme a.logo::after { display:none; }

/* Two-column profile layout */
.profile {
  display:flex; gap:60px; padding:20px; margin-top:12px; justify-content:center;
}
.left {
  width:240px; min-height:800px; padding:16px 12px; text-align:center;
  border-radius:20px; background:var(--side-bg); border-right:1px solid transparent;
  overflow:hidden; overflow-wrap:anywhere;
}
.left img {
  display:block; width:auto; height:auto; margin:13px auto;
  border-radius:50%; object-fit:cover; aspect-ratio:1/1;
}
.left .name { margin:6px 0 10px; color:rgb(2,92,95); font-size:28px; font-weight:700; }
.left .meta { line-height:1.5; }
.right { flex:1; min-width:0; max-width:960px; }
.right > section { margin:24px 0; }

/* ========== 3) Type ========== */
.right h1 {
  margin:30px 0 8px;
  font-family:"Poppins","Inter","Noto Sans TC",sans-serif;
  color:#0f0f0f; font-size:24px; font-weight:700; letter-spacing:.5px; line-height:1.3;
}
.right h2 {
  margin:20px 0 8px;
  font-family:"Poppins","Inter","Noto Sans TC",sans-serif;
  color:#222831; font-size:20px; font-weight:600; letter-spacing:.3px; line-height:1.25;
}
.right p,
.right li {
  margin:10px 0;
  font-family:"Inter","Noto Sans TC","PingFang TC",sans-serif;
  color:#575656; font-size:16px; line-height:1.85; letter-spacing:.25px;
}

/* ========== 4) Components ========== */
.card { background:var(--card-bg); border-radius:var(--r-lg); padding:28px 50px; box-shadow:var(--card-shadow); }
.list { list-style:none; margin:0; padding:0; }

/* Buttons */
button {
  font-family:inherit; cursor:pointer; padding:0 10px; border-radius:3px;
  background:var(--btn-bg); color:var(--btn-text); border:1px solid var(--btn-border);
  transition:transform .08s ease, filter .15s ease, opacity .15s ease, background .15s ease;
}
button:hover { transform:translateY(-1px); background:var(--btn-bg-hover); }
button:active { background:linear-gradient(var(--btn-press-top), var(--btn-press-bot)); }

/* Music */
#music ul { list-style:none; margin:0; padding:0; }
#music li { margin:6px 0; padding-left:10px; border-left:4px solid var(--music-bar); }
#music a { color:var(--music-link); font-weight:750; }
#music a:hover { color:var(--music-hover); }

/* ========== 5) Tables (+ task3) ========== */
table {
  border-collapse:separate; border-spacing:1px; width:auto;
  background:var(--table-bg); text-align:center;
}
th { padding:10px; color:#fff; background:var(--table-th); }
td { padding:8px; }
table, th, td { border:1px solid #555; }
button, input[type="color"] { margin:4px; }

.btn-group { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 20px; }
#scoreTable { border-radius:5px; overflow:hidden; box-shadow:0 3px 10px rgba(0,0,0,.08); }
#scoreTable td.editable { outline:1px dashed #bbb; background:#fffef6; }
.avgout { background:#c7c7dd00; border:1px solid #eeeeee00; border-radius:8px; font-size:15px; color:#333; }
.colorpick {
  display:inline-flex; align-items:center; gap:6px; padding:6px 4px;
  border:.5px solid var(--btn-border); border-radius:5px; background:#ffffff91;
}
.colorpick input[type="color"] { width:36px; height:25px; padding:0; border:none; background:transparent; }

/* scroll for wide */
.table-scroll { overflow:auto; }
.table-scroll table { min-width:520px; }

/* Task3 (Seating) */
.task3 { margin-top:20px; }
.task3 table {
  width:70%; table-layout:fixed; background:var(--brand);
  border-collapse:collapse !important; border-spacing:0 !important;
}
.task3 th, .task3 td {
  border:1px solid #474444; padding:5px; text-align:center; word-wrap:break-word; font-size:15px;
}
.task3 th.ttl { background:#f2f2f2; font-weight:800; font-size:18px; }
.task3 th:hover { background:#7e7e7e; color:#fff; cursor:pointer; transform:scale(1.02); transition:.2s ease; }

/* ========== 6) Hobbies & Image Effects ========== */
.hobby-list {
  list-style:none; margin:0; padding:0;
  display:grid; grid-template-columns:repeat(2, minmax(0,1fr)); gap:20px;
}
.hobby-list li { background:transparent; border-radius:10px; padding:12px; transition:opacity .6s ease, background .6s ease; }
.hobby-list figure { margin:8px 0 0; }
.hobby-list img { width:100%; height:auto; object-fit:cover; border-radius:8px; }
.hobby-list figcaption { margin-top:6px; font-weight:600; font-size:14px; }
.hobby-list:hover li { opacity:0; }
.hobby-list li:hover { opacity:1; background:rgba(255,255,255,.027); }

/* Darvish hover-swap */
.darvish-img { position:relative; display:block; }
.darvish-img img {
  display:block; width:100%; height:280px; border-radius:8px;
  transition:opacity .4s ease, filter .4s ease, transform .4s ease;
}
.darvish-img .overlay { position:absolute; inset:0; opacity:0; transform:scale(1.02); }
.darvish-img:hover .overlay { opacity:1; }
.darvish-img:hover .main { filter:grayscale(100%); transform:scale(1.02); opacity:.5; }
.darvish-img .hover-text {
  position:absolute; top:81%; left:70%; transform:translate(-50%,-50%);
  background:rgba(0,0,0,0); color:#fff; font-size:27px; font-weight:600; text-align:center;
  padding:8px 16px; border-radius:6px; opacity:0; transition:opacity .4s ease; white-space:nowrap;
  text-shadow:1px 1px 2px rgba(0,0,0,.8), -1px -1px 2px rgba(0,0,0,.8);
  filter:drop-shadow(0 0 6px rgba(255,255,255,.8));
}
.darvish-img:hover .hover-text { opacity:.65; }

/* FireEX hover */
.FireEX-img img {
  display:block; width:100%; height:280px; border-radius:8px;
  transition:opacity .4s ease, filter .4s ease, transform .4s ease;
}
.FireEX-img:hover img { filter:grayscale(100%); transform:scale(1.02); opacity:.5; }

/* ========== 7) Polaroid ========== */
.polaroid-wrap { display:flex; flex-direction:column; align-items:center; gap:12px; margin:24px 0; }
.polaroid {
  width:min(90vw,320px); background:#ffffff; padding:16px 16px 36px;
  border:1px solid #f0eded; border-radius:6px;
  box-shadow:0 8px 24px rgba(0,0,0,.12), 0 2px 6px rgba(0,0,0,.06);
  transform:rotate(-.6deg);
}
.polaroid img { width:100%; height:auto; display:block; border-radius:4px; }
.caption { margin-top:10px; text-align:center; font-weight:600; letter-spacing:.3px; color:#333; }
.pola-controls { display:flex; gap:8px; justify-content:center; }

/* 專用按鈕 */
.pbtn {
  padding:0 7px; border-radius:3px; background:#c5c5c3a6; color:#0f0e0e; font-weight:600; border:2px solid #000;
  transition:transform .08s ease, filter .15s ease, background .15s ease;
}
.pbtn:hover { filter:brightness(.85); }
.pbtn:active { transform:translateY(2px); box-shadow:0 1px 0 rgba(143,83,83,.15); }

/* chips */
.thumbs { display:flex; gap:10px; justify-content:center; }
.chip {
  width:28px; height:22px; border:none; border-radius:6px; cursor:pointer;
  box-shadow:inset 0 0 0 1px rgba(0,0,0,.1);
  transition:transform .1s ease, box-shadow .2s ease, outline-color .2s ease;
  outline:2px solid transparent;
}
.chip:nth-child(1){ background:#e7ebec; }
.chip:nth-child(2){ background:#c0ad98; }
.chip:nth-child(3){ background:#c2c7da; }
.chip:nth-child(4){ background:#c6e5ee; }
.chip:nth-child(5){ background:#7fb990; }
.chip:nth-child(6){ background:#f0ccee; }
.chip:hover { transform:translateY(-1px); }
.chip.active { box-shadow:inset 0 0 0 2px #726565; }

/* ========== 8) Page Scoped ========== */
/* Highlights: Journey timeline */
.journey-page p {
  margin-bottom:25px; color:#666; font-size:14px; letter-spacing:1px; text-transform:uppercase;
}
.journey-page .timeline-section ul {
  list-style:none; margin:0; padding-left:25px; border-left:2px solid var(--brand);
}
.journey-page .timeline-section li {
  position:relative; margin:20px 0; line-height:1.6; color:#333; width:fit-content;
}
.journey-page .timeline-section li::before {
  content:""; position:absolute; left:-10px; top:6px; width:10px; height:10px; background:var(--brand); border-radius:50%;
}
.journey-page .timeline-section li b { color:var(--brand); font-weight:600; margin-right:6px; }
.journey-page .timeline-section li:hover { color:#000; transform:scale(1.02); transition:.2s ease; }

.journey-page .card {
  background:#ffffff52; font-family:"Segoe UI", Arial, sans-serif; margin:25px 0;
}
.journey-page .card h2 {
  font-size:24px; color:var(--brand); margin-bottom:15px; border-bottom:1px solid #e2e2e2; padding-bottom:5px;
}
.journey-page .list { list-style:none; margin:0; padding:0; }
.journey-page .list li { padding:10px 0; line-height:1.6; width:fit-content; }
.journey-page .list li:hover { color:#000; transform:translateX(3px); transition:all .2s ease; }

.Description-page .card {
  background:#ffffff1c; font-family:"Segoe UI", Arial, sans-serif; margin:25px 0;
}

/* ========== 9) Gallery Canvas ========== */
#myCanvas4 {
  display:block; width:800px; height:500px; margin:20px auto;
  border-radius:10px;
}
button#toggle:hover { background:#afc9e2; }

/* Hover Overlay Effect (Soto) */
.Sotohover { margin-top:40px; text-align:center; }
.overlay-img { position:relative; display:inline-block; width:600px; border-radius:4px; overflow:hidden; }
.overlay-img img { display:block; width:100%; height:auto; transition:opacity .3s ease; }
.overlay-img .overlay { position:absolute; inset:0; opacity:0; transition:opacity .3s ease; }
.overlay-img:hover .overlay { opacity:1; }
.overlay-img figcaption {
  position:absolute; bottom:0; width:100%;
  background:rgba(0,0,0,.52); color:#e2d8d8; text-align:center; font-weight:600; padding:8px 0;
  opacity:0; transition:opacity .4s ease;
}
.overlay-img:hover figcaption { opacity:1; }

/* ========== 10) Background Video ========== */
.bgvid {
  position:fixed; top:50%; left:50%;
  min-width:100%; min-height:100%; width:auto; height:auto;
  z-index:-1; transform:translate(-50%,-50%); object-fit:cover; pointer-events:none;
  opacity:0; transition:opacity .2s ease;
}
#rr-bg { min-width:135% !important; }
.bgvid.is-on { opacity:.3; }

/* ========== 11) Utilities & Responsive ========== */
.u-hidden { display:none !important; }
.right .slow-msg {
  display:block; margin:20px auto; width:fit-content;
  font-size:15px; font-weight:600; text-align:center; padding:12px 18px;
  color:#1d1d1f; background:rgba(255,255,255,.171); border:1px solid rgba(0,0,0,.068); border-radius:6px;
  transition:transform .2s ease, box-shadow .2s ease;
}

/* Responsive */
@media (max-width:980px) {
  .profile { flex-direction:column; }
  .left { width:100%; min-width:unset; min-height:unset; border-right:none; border-bottom:1px solid #eee; }
  .right { max-width:none; }
  #myCanvas4 { width:100%; height:auto; }
}

/* Reduced motion */
@media (prefers-reduced-motion:reduce) {
  * { animation:none !important; transition:none !important; }
  .bgvid { opacity:0 !important; }
}

/* remove top margin of first block in .right only */
.right > *:first-child { margin-top:0; }

/* ========== Home (Index) Hero Section ========== */
.hero {
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
}
.hero h1 {
  font-size:68px; font-weight:900;
  background:linear-gradient(90deg, #610202, #037ab1, #610202);
  background-size:200% 200%;
  -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  letter-spacing:2px; animation:waveColor 6s ease-in-out infinite;
}
@keyframes waveColor {
  0%{ background-position:0% 50%; }
  50%{ background-position:100% 50%; }
  100%{ background-position:0% 50%; }
}
.hero p { font-size:18px; color:var(--muted); letter-spacing:.8px; font-weight:500; }

body[data-page="home"] {
  background:
    radial-gradient(1200px 600px at 70% 15%, #e6eefc88 0%, #ffffff00 60%),
    linear-gradient(250deg, #fae4e4 0%, #eaeef8 100%);
}
body[data-page="home"] .left {
  background:rgba(255,255,255,.089); backdrop-filter:blur(4px);
  border:1px solid rgba(0,0,0,.06); box-shadow:0 8px 24px rgba(0,0,0,.08);
}

body[data-page="Gallery"]    { background:linear-gradient(250deg, #e4e4f8 0%, #fbf2ff 100%); }
body[data-page="Table"]      { background:linear-gradient(198deg,  #fffaf2 0%, #fff0f0 100%); }
body[data-page="Highlight"]  { background:linear-gradient(270deg, #fffaf2 0%, #f8e6e6 100%); }
body[data-page="Description"]{ background:linear-gradient(231deg, #d3ddf5 0%, #fdf6ea 100%); }
body[data-page="About"]      { background:linear-gradient(250deg, #f8fae4 0%, #f8eaea 100%); }

/* Page fade-in */
.profile {
  filter:blur(10px); opacity:0; transform:scale(.985);
  transition:filter .45s ease, opacity .45s ease, transform .45s ease;
}
.profile.is-visible { filter:blur(0); opacity:1; transform:none; }
