<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Juan's Personal Webpage Â· Gallery</title>
<link rel="stylesheet" href="styles.css" />
<style>
</style>
</head>

<body>
  <!-- Navbar -->
<header>
  <h1 class="logo">&lt;J/&gt;</h1>
  <nav aria-label="Primary">
    <ul class="theme">
      <li><a href="my_web.html">Home</a></li>
      <li><a href="Highlights.html">Highlights</a></li>
      <li><a href="Resource.html">Resource</a></li>
      <li><a href="Table.html">Table</a></li>
      <li><a class="active" aria-current="page" href="Gallery.html">Gallery</a></li>
    </ul>
  </nav>
</header>


  <div class="profile">
    <aside class="left">
      <img
        src="../Photo/MemeManProfile.png"
        alt="Portrait of Juan"
        width="200"
        height="200"
        loading="lazy"
        decoding="async"
      />
      <div class="name">Juan</div>

      <p class="meta">
        <b>Mail</b>:
        <a href="mailto:jueanc@gmail.com">jueanc</a>
      </p>
      <p class="meta" id="MLB">
        <b>Web</b>:
        <a href="https://mlb.com" target="_blank" rel="noopener noreferrer">mlb.com</a>
      </p>
    </aside>

    <main class="right">


      <h1>Day and Night</h1>
      <button id="toggle">åˆ‡æ›ç™½å¤©</button>

      <canvas id="myCanvas4" width="800" height="500">Your browser does not support the HTML canvas tag.</canvas>



      <h1>Polaroid-Style Image Switcher</h1>
      <p class="slow-msg">The web's kinda slow ğŸ˜… pls wait a sec! <br>åœ–ç‰‡è¼‰å…¥è¦ä¸€æ®µæ™‚é–“è«‹ç¨ç­‰ä¸€ä¸‹!</p>
      <section class="polaroid-wrap" aria-label="Polaroid image switcher">
        <div class="polaroid">
          <img id="polaImg" src="../Photo/PaulBear.png" alt="Pictures of Today" width="300" height="auto" />
          <div class="caption" id="polaCap" aria-live="polite">Pictures of Today</div>
        </div>

        <div class="pola-controls">
          <button class="pbtn" id="prevBtn" type="button" aria-label="Previous">â—€ Prev</button>
          <button class="pbtn" id="nextBtn" type="button" aria-label="Next">Next â–¶</button>
        </div>

        <div class="thumbs" role="tablist" aria-label="Thumbnails">
          <button class="chip" role="tab" data-idx="0" title="Photo 1" aria-selected="true"></button>
          <button class="chip" role="tab" data-idx="1" title="Photo 2"></button>
          <button class="chip" role="tab" data-idx="2" title="Photo 3"></button>
          <button class="chip" role="tab" data-idx="3" title="Photo 4"></button>
        </div>
      </section>
      <script>
        // ====== åŸºæœ¬è¨­å®šï¼ˆHiDPIï¼‰======
        const canvas = document.getElementById("myCanvas4");
        const ctx = canvas.getContext("2d");
        const dpr = Math.max(1, Math.floor(window.devicePixelRatio || 1));
        const CSS_W = 800, CSS_H = 500;
        canvas.width = CSS_W * dpr; canvas.height = CSS_H * dpr; ctx.scale(dpr, dpr);

        // dayFactor: 0 = å¤œæ™š, 1 = ç™½å¤©ï¼ˆç”¨ä¾†åšå¹³æ»‘æ’å€¼ï¼‰
        let dayFactor = 0;           // åˆå§‹å¤œæ™š
        let animFrom = 0, animTo = 0, animStart = 0, animDur = 900; // ms
        let targetIsDay = false;

        // ====== å·¥å…·ï¼šé¡è‰²/æ•¸å€¼æ’å€¼ ======
        const lerp = (a,b,t)=> a + (b - a) * t;
        const clamp01 = (x)=> Math.max(0, Math.min(1, x));
        function hexToRgb(hex){
          const h = hex.replace('#','');
          const r = parseInt(h.slice(0,2),16);
          const g = parseInt(h.slice(2,4),16);
          const b = parseInt(h.slice(4,6),16);
          return {r,g,b};
        }
        function mixColor(c1, c2, t){
          const a = hexToRgb(c1), b = hexToRgb(c2);
          const r = Math.round(lerp(a.r, b.r, t));
          const g = Math.round(lerp(a.g, b.g, t));
          const b2 = Math.round(lerp(a.b, b.b, t));
          return `rgb(${r},${g},${b2})`;
        }
        // å¹³æ»‘æ›²ç·šï¼ˆease in outï¼‰
        function easeInOutQuad(x){ return x < 0.5 ? 2*x*x : 1 - Math.pow(-2*x + 2, 2)/2; }

        // ====== é¡è‰²å®šç¾©ï¼ˆå¤œâ†’æ—¥ï¼‰======
        const SKY_TOP_N = "#065084", SKY_BOT_N = "#222831";
        const SKY_TOP_D = "#87ceeb", SKY_BOT_D = "#fff1a1";

        const GROUND_N = "#111111", GROUND_D = "#4caf50";

        const B1_N = "#37353E", B1_D = "#7e7f91";
        const B2_N = "#44444E", B2_D = "#9b9cae";

        const TEXT_N = "#ffffff", TEXT_D = "#333333";

        // ====== æ˜Ÿæ˜Ÿï¼ˆå›ºå®šä½ç½®ï¼Œå¤œæ™šé–ƒçˆï¼‰======
        const STAR_COUNT = 90;
        const stars = Array.from({length: STAR_COUNT}, () => ({
          x: Math.random()*CSS_W,
          y: Math.random()*300,
          r: Math.random()*1.4 + 0.3,
          base: Math.random()*0.5 + 0.5,
          speed: Math.random()*0.02 + 0.005,
          phase: Math.random()*Math.PI*2
        }));

        // ====== ç™½å¤©é›²ï¼ˆç·©æ…¢æ¼‚ç§»ï¼‰======
        const CLOUD_COUNT = 6;
        const clouds = Array.from({length: CLOUD_COUNT}, () => ({
          x: Math.random()*CSS_W,
          y: Math.random()*120 + 30,
          s: Math.random()*0.5 + 0.8,
          v: Math.random()*0.3 + 0.2
        }));
        function drawCloud(cx, cy, scale){
          ctx.fillStyle = "white";
          ctx.beginPath();
          ctx.arc(cx-20*scale, cy, 16*scale, 0, Math.PI*2);
          ctx.arc(cx,         cy-8*scale, 22*scale, 0, Math.PI*2);
          ctx.arc(cx+22*scale,cy, 16*scale, 0, Math.PI*2);
          ctx.fill();
        }

        // å»ºç¯‰ç‰©
        const buildings = [
          {x:60,y:220,w:80,h:180},{x:180,y:200,w:80,h:200},{x:300,y:180,w:80,h:220},
          {x:450,y:190,w:80,h:210},{x:600,y:180,w:80,h:220},
        ];

        // ====== ç¹ªåœ–ä¸»æµç¨‹ï¼ˆæ¯å¹€ï¼‰======
        function render(ts){
          // å‹•ç•«å…§æ’
          if (animStart) {
            const raw = clamp01((ts - animStart) / animDur);
            const e = easeInOutQuad(raw);
            dayFactor = lerp(animFrom, animTo, e);
            if (raw >= 1) animStart = 0; // å‹•ç•«çµæŸ
          }

          // èƒŒæ™¯å¤©ç©ºï¼ˆå…©ç«¯é¡è‰²æ’å€¼ï¼‰
          const skyTop = mixColor(SKY_TOP_N, SKY_TOP_D, dayFactor);
          const skyBot = mixColor(SKY_BOT_N, SKY_BOT_D, dayFactor);
          const sky = ctx.createLinearGradient(0, 0, 0, 400);
          sky.addColorStop(0, skyTop);
          sky.addColorStop(1, skyBot);
          ctx.fillStyle = sky;
          ctx.fillRect(0, 0, CSS_W, 400);

          // å¤ªé™½ï¼ˆæœˆäº®ï¼‰æ·¡å…¥æ·¡å‡ºï¼šsunAlpha=dayFactor, moonAlpha=(1-dayFactor)
          const sunA = dayFactor, moonA = 1 - dayFactor;

          // å¤ªé™½
          if (sunA > 0) {
            ctx.globalAlpha = sunA;
            let g = ctx.createRadialGradient(600,120,5,600,120,90);
            g.addColorStop(0, "#fff9c4");
            g.addColorStop(1, "rgba(255,255,255,0)");
            ctx.fillStyle = g; ctx.beginPath(); ctx.arc(600,120,90,0,Math.PI*2); ctx.fill();
            ctx.beginPath(); ctx.arc(600,120,36,0,Math.PI*2); ctx.fillStyle = "#fff59d"; ctx.fill();
          }

          // æœˆäº®ï¼ˆå«æœˆæšˆï¼‰
          if (moonA > 0) {
            ctx.globalAlpha = moonA;
            let g2 = ctx.createRadialGradient(600,150,5,600,150,120);
            g2.addColorStop(0, "rgba(255,246,204,0.35)");
            g2.addColorStop(1, "rgba(255,246,204,0)");
            ctx.fillStyle = g2; ctx.beginPath(); ctx.arc(600,150,120,0,Math.PI*2); ctx.fill();
            ctx.beginPath(); ctx.arc(600,150,50,0,Math.PI*2); ctx.fillStyle = "#fff6cc"; ctx.fill();
          }
          ctx.globalAlpha = 1;

          // æ˜Ÿæ˜Ÿï¼ˆå¤œè¶Šæ·±è¶Šäº®ï¼›ä¸”å¾®å¾®é–ƒçˆï¼‰
          const starGlobal = (1 - dayFactor); // å¤œæ·±=1
          if (starGlobal > 0) {
            for (const s of stars) {
              const flicker = s.base + 0.5*Math.sin(s.phase + ts*s.speed);
              ctx.globalAlpha = clamp01(flicker * starGlobal);
              ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
              ctx.fillStyle = "#ffffff"; ctx.fill();
            }
            ctx.globalAlpha = 1;
          }

          // é›²ï¼ˆç™½å¤©è¶Šå¤šè¶Šæ˜é¡¯ï¼‰
          const cloudA = dayFactor;
          if (cloudA > 0) {
            ctx.globalAlpha = cloudA;
            for (const c of clouds) {
              c.x += c.v; if (c.x > CSS_W + 40) c.x = -40;
              drawCloud(c.x, c.y, c.s*1.2);
            }
            ctx.globalAlpha = 1;
          }

          // åœ°é¢ & å»ºç¯‰ï¼ˆé¡è‰²æ’å€¼ï¼‰
          ctx.fillStyle = mixColor(GROUND_N, GROUND_D, dayFactor);
          ctx.fillRect(0, 400, CSS_W, 100);

          buildings.forEach((b,i) => {
            const from = i%2 ? B2_N : B1_N;
            const to   = i%2 ? B2_D : B1_D;
            ctx.fillStyle = mixColor(from, to, dayFactor);
            ctx.fillRect(b.x, b.y, b.w, b.h);
          });

          // æ¨™é¡Œ
          ctx.shadowColor="rgba(0,0,0,0.5)"; ctx.shadowBlur=8;
          ctx.fillStyle = mixColor(TEXT_N, TEXT_D, dayFactor);
          ctx.font = "bold 30px Arial";
          const title = dayFactor > 0.5 ? "Sunny Day City" : "Moon Night City";
          ctx.fillText(title, 20, 50);
          ctx.shadowBlur=4; ctx.font="20px Arial";
          const subtitle = dayFactor > 0.5 ? "clouds drifting â˜ï¸" : "stars twinkling âœ¨";
          ctx.fillText(subtitle, 20, 80);
          ctx.shadowBlur=0;

          requestAnimationFrame(render);
        }

        // å•Ÿå‹•å‹•ç•« loop
        requestAnimationFrame(render);

        // åˆ‡æ›æŒ‰éˆ•ï¼ˆå¹³æ»‘éæ¸¡ï¼‰
        const btn = document.getElementById("toggle");
        btn.addEventListener("click", () => {
          targetIsDay = !targetIsDay;
          animFrom = dayFactor;
          animTo = targetIsDay ? 1 : 0;
          animStart = performance.now();
          btn.textContent = targetIsDay ? "åˆ‡æ›é»‘å¤œ" : "åˆ‡æ›ç™½å¤©";
        });
      </script>

<script>
  // â€”â€” Polaroid switcher â€”â€” //
  (() => {
    const images = [
      { src: '../Photo/PaulBear.png',   cap: 'Bear is commimg' },
      { src: '../Photo/PaulBasket.png', cap: 'Courtside Vibes' },
      { src: '../Photo/PaulOhtani.png', cap: 'Two-way Magic' },
      { src: '../Photo/PaulHipHop.png', cap: 'Hip-hop Night' }
    ];

    let idx = 0;
    const imgEl = document.getElementById('polaImg');
    const capEl = document.getElementById('polaCap');
    const chips = Array.from(document.querySelectorAll('.thumbs .chip'));

    function render(i){
      idx = (i + images.length) % images.length;
      const cur = images[idx];
      imgEl.src = cur.src;
      imgEl.alt = cur.cap;
      capEl.textContent = cur.cap;

      chips.forEach((c, k) => {
        const on = k === idx;
        c.classList.toggle('active', on);
        c.setAttribute('aria-selected', on ? 'true' : 'false');
      });
    }

    document.getElementById('prevBtn').addEventListener('click', () => render(idx - 1));
    document.getElementById('nextBtn').addEventListener('click', () => render(idx + 1));

    chips.forEach(ch => ch.addEventListener('click', e => {
      const to = parseInt(e.currentTarget.dataset.idx, 10) || 0;
      render(to);
    }));

    // éµç›¤å·¦å³éµæ”¯æ´
    document.querySelector('.polaroid-wrap').addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft')  render(idx - 1);
      if (e.key === 'ArrowRight') render(idx + 1);
    });

    render(0);
  })();
</script>


    </main>
  </div>
</body>
</html>

